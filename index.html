<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BizStreak ‚Äî –¢–≤–æ–π –ø—É—Ç—å –∫ –±–∏–∑–Ω–µ—Å—É</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #f0f9ff;
      color: #0c4a6e;
      padding: 20px;
      line-height: 1.6;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    }
    h1 { font-size: 28px; margin-bottom: 8px; color: #082f49; }
    .subtitle { color: #38bdf8; margin-bottom: 24px; }
    .streak {
      background: #dbeafe;
      color: #1d4ed8;
      padding: 16px;
      border-radius: 14px;
      text-align: center;
      margin: 20px 0;
      font-weight: bold;
      font-size: 22px;
    }
    textarea {
      width: 100%;
      padding: 14px;
      border: 1px solid #cbd5e1;
      border-radius: 12px;
      font-size: 16px;
      min-height: 100px;
      margin: 12px 0;
    }
    button {
      background: #0ea5e9;
      color: white;
      border: none;
      padding: 14px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      width: 100%;
      cursor: pointer;
    }
    button:hover { background: #0284c7; }
    .history { margin-top: 30px; }
    .history h2 { margin: 20px 0 12px; }
    .entry {
      padding: 10px 0;
      border-bottom: 1px solid #e2e8f0;
    }
    .date { color: #94a3b8; font-size: 14px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üî• BizStreak</h1>
    <p class="subtitle">–¢–≤–æ–π –ø—É—Ç—å –∫ –±–∏–∑–Ω–µ—Å—É –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –æ–¥–Ω–æ–≥–æ —à–∞–≥–∞ ‚Äî –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>

    <div class="streak" id="streak">üî• –¢–≤–æ—è —Ü–µ–ø–æ—á–∫–∞: <span id="count">0</span> –¥–Ω–µ–π</div>

    <textarea id="action" placeholder="–ß—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–ª —Å–µ–≥–æ–¥–Ω—è –¥–ª—è —Å–≤–æ–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞? –ù–∞–ø—Ä–∏–º–µ—Ä: '–ù–∞–ø–∏—Å–∞–ª –∫–ª–∏–µ–Ω—Ç—É', '–ó–∞–ø–∏—Å–∞–ª –∏–¥–µ—é', '–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —Ä–∞—Å—Ö–æ–¥—ã'..."></textarea>
    <button onclick="logAction()">‚úÖ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —à–∞–≥</button>

    <div class="history">
      <h2>–¢–≤–æ–∏ —à–∞–≥–∏:</h2>
      <div id="historyList"></div>
    </div>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    const today = new Date().toISOString().split('T')[0];
    let data = JSON.parse(localStorage.getItem('bizstreak')) || { streak: 0, lastDate: '', actions: [] };

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    function render() {
      document.getElementById('count').textContent = data.streak;
      const list = document.getElementById('historyList');
      list.innerHTML = data.actions.map(a => 
        `<div class="entry">${a.text}<div class="date">${a.date}</div></div>`
      ).join('');
    }

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
    function logAction() {
      const text = document.getElementById('action').value.trim();
      if (!text) return alert('–ù–∞–ø–∏—à–∏, —á—Ç–æ —Ç—ã —Å–¥–µ–ª–∞–ª!');
      
      const today = new Date().toISOString().split('T')[0];
      
      // –û–±–Ω–æ–≤–ª—è–µ–º streak
      if (data.lastDate === today) {
        alert('–¢—ã —É–∂–µ —Å–¥–µ–ª–∞–ª —à–∞–≥ —Å–µ–≥–æ–¥–Ω—è! –ú–æ–ª–æ–¥–µ—Ü!');
        return;
      } else if (data.lastDate === new Date(Date.now() - 86400000).toISOString().split('T')[0]) {
        data.streak += 1;
      } else {
        data.streak = 1;
      }
      
      data.lastDate = today;
      data.actions.unshift({ date: today, text });
      if (data.actions.length > 20) data.actions.pop();

      localStorage.setItem('bizstreak', JSON.stringify(data));
      document.getElementById('action').value = '';
      render();
      alert('‚úÖ –®–∞–≥ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω! –¢—ã –º–æ–ª–æ–¥–µ—Ü!');
    }

    render();
  </script>
</body>
</html>
